(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{269:function(t,e,n){"use strict";n(24),n(18);var s=n(1),r=n.n(s),o={data:function(){return{url:"",config:{app:"6960090",redirectUri:"https://smmtouch.dev.konekon.ru/login",display:"page",responseType:"code",v:"5.92"}}},methods:{login:function(){var t=r()(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post("vk/token/",{code:e},{});case 3:return n=t.sent,t.next=6,this.$auth.loginWith("vk",{data:{vk_id:n.data.user_id,vk_token:n.data.access_token}});case 6:this.$router.replace("/cp/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?(console.log(t.t0.response.data),console.log(t.t0.response.status),console.log(t.t0.response.headers)):t.t0.request?console.log(t.t0.request):console.log("Error",t.t0.message),console.log(t.t0.config);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){var t=r()(regeneratorRuntime.mark(function t(){var e,n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="https://oauth.vk.com/authorize?client_id=".concat(this.config.app),e+="&display=".concat(this.config.display,"&redirect_uri=").concat(this.config.redirectUri,"&scope=friends"),e+="&response_type=".concat(this.config.responseType,"&v=").concat(this.config.v),this.url=e,n=this.$route.query.code,s=this.$route.query.state,!n||s){t.next=9;break}return t.next=9,this.login(n);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},a=n(2),i=Object(a.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"vkconnect",attrs:{href:this.url}},[e("img",{attrs:{src:"/img/sni-03.svg",alt:""}}),this._v("ВКонтакте\n")])},[],!1,null,null,null);e.a=i.exports},270:function(t,e,n){"use strict";n(24),n(18);var s=n(1),r=n.n(s),o={data:function(){return{url:"",config:{app:"2020906244882717",redirectURI:"https://smmtouch.dev.konekon.ru/login",state:"fb"}}},methods:{login:function(){var t=r()(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post("fb/token/",{code:e},{});case 3:return n=t.sent,t.next=6,this.$auth.loginWith("fb",{data:{fb_id:n.data.fb_data.id,fb_token:n.data.token.access_token}});case 6:this.$router.replace("/cp/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?(console.log(t.t0.response.data),console.log(t.t0.response.status),console.log(t.t0.response.headers)):t.t0.request?console.log(t.t0.request):console.log("Error",t.t0.message),console.log(t.t0.config);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){var t=r()(regeneratorRuntime.mark(function t(){var e,n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="https://www.facebook.com/v3.2/dialog/oauth?client_id=".concat(this.config.app),e+="&redirect_uri=".concat(this.config.redirectURI),e+="&state=".concat(this.config.state),this.url=e,n=this.$route.query.code,s=this.$route.query.state,!n||!s){t.next=9;break}return t.next=9,this.login(n);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},a=n(2),i=Object(a.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"fbconnect",attrs:{href:this.url}},[e("img",{attrs:{src:"/img/sni-02.svg",alt:""}}),this._v("Facebook\n")])},[],!1,null,null,null);e.a=i.exports},323:function(t,e,n){"use strict";n.r(e);n(24);var s=n(97),r=n(269),o=n(270),a={auth:!1,components:{PopupMain:s.a,VKConnect:r.a,FBConnect:o.a},data:function(){return{email:"",password:""}},methods:{toggleUrl:function(t){this.$router.replace(t)},onSubmit:function(){var t=this;this.$axios.post("register/",{email:this.email,password:this.password,password_confirm:this.password},{}).then(function(e){t.$auth.setToken("local","Bearer "+e.data.success.token),t.$router.replace("/cp/")}).catch(function(t){console.log(t)})}}},i=n(2),c=Object(i.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PopupMain",[n("div",{staticClass:"auth-group"},[n("div",{staticClass:"group h2"},[n("div",[t._v("Создание аккаунта")]),t._v(" "),n("h2",[t._v("Регистрация")])]),t._v(" "),n("form",{on:{submit:function(e){e.preventDefault(),t.onSubmit()}}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("img",{staticClass:"input-icon",attrs:{src:"/img/login_min.svg",height:"16px"}}),t._v(" "),n("span",[t._v("Неверный логин")])]),t._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Пароль",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("img",{staticClass:"input-icon",attrs:{src:"/img/pass_min.svg",width:"16px"}}),t._v(" "),n("span",[t._v("Неверный логин")])]),t._v(" "),n("input",{attrs:{type:"submit",value:"Создать аккаунт"}})]),t._v(" "),n("div",{staticClass:"group h2"},[n("h6",[t._v("Уже есть аккаунт?")])]),t._v(" "),n("div",{staticClass:"group group-2"},[n("a",{staticClass:"nav-link",on:{click:function(e){e.preventDefault(),t.toggleUrl("/login/")}}},[t._v("Вход")]),t._v(" "),n("a",{staticClass:"nav-link",on:{click:function(e){e.preventDefault(),t.toggleUrl("/reset/")}}},[t._v("Забыли пароль?")])])]),t._v(" "),n("div",{staticClass:"sni-group"},[n("div",{staticClass:"group h2"},[n("div",[t._v("Вход через")]),t._v(" "),n("h2",[t._v("Социальные сети")])]),t._v(" "),n("div",{staticClass:"group sni-links"},[n("VKConnect"),t._v(" "),n("FBConnect")],1)])])},[],!1,null,null,null);e.default=c.exports}}]);